---
phase: 10-rhythm-implementation
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/data/units/rhythmUnit1Redesigned.js
  - src/data/units/rhythmUnit2Redesigned.js
autonomous: true

must_haves:
  truths:
    - "User can practice quarter notes and half notes in Unit 1"
    - "User can practice whole notes combined with quarters and halves in Unit 2"
    - "Each unit has 7 nodes with proper variety (Discovery, Practice, Mix-Up, Speed, Mini-Boss)"
  artifacts:
    - path: "src/data/units/rhythmUnit1Redesigned.js"
      provides: "Rhythm Unit 1 nodes (7 nodes: quarter + half notes)"
      exports: ["rhythmUnit1Nodes"]
      min_lines: 250
    - path: "src/data/units/rhythmUnit2Redesigned.js"
      provides: "Rhythm Unit 2 nodes (7 nodes: adds whole notes)"
      exports: ["rhythmUnit2Nodes"]
      min_lines: 250
  key_links:
    - from: "src/data/units/rhythmUnit1Redesigned.js"
      to: "src/data/nodeTypes.js"
      via: "import NODE_TYPES, RHYTHM_COMPLEXITY"
      pattern: "import.*NODE_TYPES.*from.*nodeTypes"
    - from: "src/data/units/rhythmUnit2Redesigned.js"
      to: "rhythmUnit1Redesigned.js"
      via: "prerequisite chain"
      pattern: "prerequisites.*boss_rhythm_1"
---

<objective>
Create Rhythm Units 1-2: Basic duration foundation (quarter, half, whole notes)

Purpose: Establish the rhythm learning path foundation with steady beat concepts before introducing faster durations. Unit 1 teaches quarter and half notes; Unit 2 adds whole notes to complete basic durations.

Output: Two rhythm unit files with 7 nodes each, following the same pedagogical pattern as bass clef redesign (Discovery -> Practice -> Mix-Up -> Speed Round -> Mini-Boss)
</objective>

<execution_context>
@C:\Users\pagis\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\pagis\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/10-rhythm-implementation/10-CONTEXT.md
@.planning/phases/10-rhythm-implementation/10-RESEARCH.md

# Template for node structure
@src/data/units/bassUnit1Redesigned.js
@src/data/nodeTypes.js
@src/data/constants.js
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create Rhythm Unit 1 - Basic Beats (Quarter + Half)</name>
  <files>src/data/units/rhythmUnit1Redesigned.js</files>
  <action>
Create rhythmUnit1Redesigned.js with 7 nodes following bass clef pattern:

**Unit constants:**
- UNIT_ID = 1
- UNIT_NAME = 'Basic Beats'
- CATEGORY = 'rhythm'
- START_ORDER = 100 (after clef units)

**Node sequence (7 nodes):**

1. **Node 1 (Discovery):** "Meet Quarter Notes"
   - id: rhythm_1_1
   - nodeType: NODE_TYPES.DISCOVERY
   - rhythmConfig: { complexity: SIMPLE, durations: ['q'], focusDurations: ['q'], contextDurations: [], tempo: { min: 60, max: 70, default: 65 }, pitch: 'C4', timeSignature: '4/4' }
   - exercises: [{ type: EXERCISE_TYPES.RHYTHM, config: { rhythmPatterns: ['quarter'], tempo: 65, measuresPerPattern: 1, difficulty: 'easy' } }]
   - newContent: NEW_CONTENT_TYPES.RHYTHM, newContentDescription: 'Quarter Notes (1 beat)'
   - xpReward: 40, prerequisites: []

2. **Node 2 (Practice):** "Practice Quarter Notes"
   - id: rhythm_1_2
   - nodeType: NODE_TYPES.PRACTICE
   - rhythmConfig: { durations: ['q'], tempo: { min: 65, max: 75, default: 70 } }
   - exercises: [{ type: EXERCISE_TYPES.RHYTHM, config: { rhythmPatterns: ['quarter'], tempo: 70, measuresPerPattern: 2, difficulty: 'easy' } }]
   - xpReward: 45, prerequisites: ['rhythm_1_1']

3. **Node 3 (Discovery):** "Meet Half Notes"
   - id: rhythm_1_3
   - nodeType: NODE_TYPES.DISCOVERY
   - rhythmConfig: { complexity: MEDIUM, durations: ['q', 'h'], focusDurations: ['h'], contextDurations: ['q'], tempo: { min: 60, max: 70, default: 65 } }
   - newContent: NEW_CONTENT_TYPES.RHYTHM, newContentDescription: 'Half Notes (2 beats)'
   - xpReward: 45, prerequisites: ['rhythm_1_2']

4. **Node 4 (Practice):** "Practice Quarters and Halves"
   - id: rhythm_1_4
   - nodeType: NODE_TYPES.PRACTICE
   - rhythmConfig: { durations: ['q', 'h'], tempo: { min: 65, max: 75, default: 70 } }
   - exercises: [{ type: EXERCISE_TYPES.RHYTHM, config: { rhythmPatterns: ['quarter', 'half'], tempo: 70, measuresPerPattern: 2 } }]
   - xpReward: 50, prerequisites: ['rhythm_1_3']

5. **Node 5 (Mix-Up):** "Rhythm Patterns"
   - id: rhythm_1_5
   - nodeType: NODE_TYPES.MIX_UP
   - rhythmConfig: { durations: ['q', 'h'] }
   - Note: Mix-Up for rhythm uses same EXERCISE_TYPES.RHYTHM with varied patterns
   - xpReward: 50, prerequisites: ['rhythm_1_4']

6. **Node 6 (Speed Round):** "Speed Challenge"
   - id: rhythm_1_6
   - nodeType: NODE_TYPES.SPEED_ROUND
   - rhythmConfig: { durations: ['q', 'h'], tempo: { min: 85, max: 95, default: 90 } }
   - newContentDescription: 'Speed Challenge'
   - xpReward: 55, prerequisites: ['rhythm_1_5']

7. **Node 7 (Mini-Boss):** "Basic Beats Master"
   - id: boss_rhythm_1
   - nodeType: NODE_TYPES.MINI_BOSS
   - category: 'boss'
   - rhythmConfig: { complexity: MEDIUM, durations: ['q', 'h'], tempo: { min: 70, max: 80, default: 75 } }
   - exercises: [{ config: { measuresPerPattern: 4, questionCount: 12 } }]
   - xpReward: 100, accessoryUnlock: 'rhythm_badge_1', isBoss: true
   - prerequisites: ['rhythm_1_6']

**Key patterns to follow from bassUnit1Redesigned.js:**
- Use same import structure (NODE_TYPES, RHYTHM_COMPLEXITY, NEW_CONTENT_TYPES, EXERCISE_TYPES)
- Include all required fields: id, name, description, category, unit, unitName, order, orderInUnit, prerequisites, nodeType, rhythmConfig, newContent, exercises, skills, xpReward, accessoryUnlock, isBoss, isReview, reviewsUnits
- NO noteConfig (rhythm-only nodes)
- Include skills array with duration names: ['quarter_note'], ['half_note'], etc.
  </action>
  <verify>
1. File exists: src/data/units/rhythmUnit1Redesigned.js
2. Export check: `grep -q "export const rhythmUnit1Nodes" src/data/units/rhythmUnit1Redesigned.js`
3. Node count: `grep -c "id: 'rhythm_1_" src/data/units/rhythmUnit1Redesigned.js` returns 6 (+ boss node)
4. Boss node: `grep -q "id: 'boss_rhythm_1'" src/data/units/rhythmUnit1Redesigned.js`
5. Imports: `grep -q "NODE_TYPES.*RHYTHM_COMPLEXITY" src/data/units/rhythmUnit1Redesigned.js`
  </verify>
  <done>
rhythmUnit1Redesigned.js exists with 7 nodes (6 rhythm_1_X + 1 boss_rhythm_1), exports rhythmUnit1Nodes array, uses proper NODE_TYPES and EXERCISE_TYPES.RHYTHM
  </done>
</task>

<task type="auto">
  <name>Task 2: Create Rhythm Unit 2 - Complete Basics (Add Whole Notes)</name>
  <files>src/data/units/rhythmUnit2Redesigned.js</files>
  <action>
Create rhythmUnit2Redesigned.js with 7 nodes:

**Unit constants:**
- UNIT_ID = 2
- UNIT_NAME = 'Complete Basics'
- CATEGORY = 'rhythm'
- START_ORDER = 107 (after Unit 1's 7 nodes: 100-106)

**Node sequence (7 nodes):**

1. **Node 1 (Discovery):** "Meet Whole Notes"
   - id: rhythm_2_1
   - nodeType: NODE_TYPES.DISCOVERY
   - rhythmConfig: { complexity: MEDIUM, durations: ['q', 'h', 'w'], focusDurations: ['w'], contextDurations: ['q', 'h'], tempo: { min: 60, max: 70, default: 65 } }
   - newContent: NEW_CONTENT_TYPES.RHYTHM, newContentDescription: 'Whole Notes (4 beats)'
   - xpReward: 50, prerequisites: ['boss_rhythm_1']

2. **Node 2 (Practice):** "Practice Whole Notes"
   - id: rhythm_2_2
   - rhythmConfig: { durations: ['q', 'h', 'w'], tempo: { min: 65, max: 75, default: 70 } }
   - xpReward: 50, prerequisites: ['rhythm_2_1']

3. **Node 3 (Discovery):** "Long and Short"
   - id: rhythm_2_3
   - Focus on contrast between whole (4 beats) and quarter (1 beat)
   - rhythmConfig: { durations: ['q', 'w'], focusDurations: [], contextDurations: ['q', 'w'] }
   - Description: "Feel the difference between long and short"
   - xpReward: 55, prerequisites: ['rhythm_2_2']

4. **Node 4 (Practice):** "All Basic Durations"
   - id: rhythm_2_4
   - rhythmConfig: { durations: ['q', 'h', 'w'], tempo: { min: 65, max: 75, default: 70 } }
   - xpReward: 55, prerequisites: ['rhythm_2_3']

5. **Node 5 (Mix-Up):** "Duration Mix"
   - id: rhythm_2_5
   - rhythmConfig: { durations: ['q', 'h', 'w'] }
   - xpReward: 55, prerequisites: ['rhythm_2_4']

6. **Node 6 (Speed Round):** "Speed Basics"
   - id: rhythm_2_6
   - rhythmConfig: { durations: ['q', 'h', 'w'], tempo: { min: 85, max: 95, default: 90 } }
   - xpReward: 60, prerequisites: ['rhythm_2_5']

7. **Node 7 (Mini-Boss):** "Duration Master"
   - id: boss_rhythm_2
   - nodeType: NODE_TYPES.MINI_BOSS
   - category: 'boss'
   - rhythmConfig: { complexity: MEDIUM, durations: ['q', 'h', 'w'], tempo: { min: 70, max: 80, default: 75 } }
   - exercises: [{ config: { measuresPerPattern: 4, questionCount: 12 } }]
   - xpReward: 110, accessoryUnlock: 'rhythm_badge_2', isBoss: true
   - prerequisites: ['rhythm_2_6']

**Same structure as Unit 1:**
- Import NODE_TYPES, RHYTHM_COMPLEXITY, NEW_CONTENT_TYPES from '../nodeTypes.js'
- Import EXERCISE_TYPES from '../constants.js'
- All nodes include: rhythmConfig with pitch: 'C4', timeSignature: '4/4'
- skills array: ['quarter_note', 'half_note', 'whole_note'] for nodes with all durations
  </action>
  <verify>
1. File exists: src/data/units/rhythmUnit2Redesigned.js
2. Export check: `grep -q "export const rhythmUnit2Nodes" src/data/units/rhythmUnit2Redesigned.js`
3. Node count: `grep -c "id: 'rhythm_2_" src/data/units/rhythmUnit2Redesigned.js` returns 6 (+ boss node)
4. Boss node: `grep -q "id: 'boss_rhythm_2'" src/data/units/rhythmUnit2Redesigned.js`
5. Prerequisite link: `grep -q "prerequisites.*boss_rhythm_1" src/data/units/rhythmUnit2Redesigned.js`
6. Whole notes: `grep -q "'w'" src/data/units/rhythmUnit2Redesigned.js`
  </verify>
  <done>
rhythmUnit2Redesigned.js exists with 7 nodes (6 rhythm_2_X + 1 boss_rhythm_2), links to boss_rhythm_1 as prerequisite, introduces whole notes ('w')
  </done>
</task>

</tasks>

<verification>
Run after all tasks complete:

1. Both files exist with proper exports:
```bash
ls -la src/data/units/rhythmUnit*Redesigned.js
```

2. Verify node counts:
```bash
grep -c "id: 'rhythm_1_" src/data/units/rhythmUnit1Redesigned.js
grep -c "id: 'rhythm_2_" src/data/units/rhythmUnit2Redesigned.js
grep -c "id: 'boss_rhythm_" src/data/units/rhythm*Redesigned.js
```

3. Verify exports:
```bash
grep "export const rhythm" src/data/units/rhythmUnit*Redesigned.js
```

4. Verify tempo ranges follow pattern (Unit 1: 60-70 discovery, 85-95 speed):
```bash
grep -A2 "tempo:" src/data/units/rhythmUnit1Redesigned.js | head -20
```
</verification>

<success_criteria>
1. rhythmUnit1Redesigned.js exists with 7 nodes teaching quarter + half notes
2. rhythmUnit2Redesigned.js exists with 7 nodes teaching quarter + half + whole notes
3. Both files export named arrays (rhythmUnit1Nodes, rhythmUnit2Nodes)
4. Node IDs follow pattern: rhythm_X_Y for regular, boss_rhythm_X for boss nodes
5. Prerequisites chain correctly: Unit 2 first node requires boss_rhythm_1
6. All nodes use EXERCISE_TYPES.RHYTHM (not NOTE_RECOGNITION or SIGHT_READING)
7. All rhythmConfig includes pitch: 'C4', timeSignature: '4/4'
8. XP rewards increase within and across units
</success_criteria>

<output>
After completion, create `.planning/phases/10-rhythm-implementation/10-01-SUMMARY.md`
</output>
