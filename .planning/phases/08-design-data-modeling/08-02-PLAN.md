---
phase: 08-design-data-modeling
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - src/data/PEDAGOGY.md
autonomous: true

must_haves:
  truths:
    - "Developer can understand why notes are introduced in specific order"
    - "Developer can understand purpose of each node type (Discovery, Practice, etc.)"
    - "Developer can understand rhythm progression rationale"
    - "Claude agents can reference pedagogy for planning bass/rhythm implementations"
  artifacts:
    - path: "src/data/PEDAGOGY.md"
      provides: "Educational design rationale documentation"
      contains: "Note Introduction Order"
      min_lines: 100
  key_links:
    - from: "src/data/PEDAGOGY.md"
      to: "src/data/nodeTypes.js"
      via: "documents NODE_TYPES enum"
      pattern: "NODE_TYPES"
    - from: "src/data/PEDAGOGY.md"
      to: "src/data/skillTrail.js"
      via: "explains node structure"
      pattern: "treble_clef|bass_clef|rhythm"
---

<objective>
Create pedagogy documentation that captures the educational design rationale for the trail system.

Purpose: Document WHY notes are introduced in specific order, WHY node types exist, and WHY rhythm progression follows its pattern. This documentation serves both human developers (understanding design decisions) and Claude agents (researching for future implementations).

Output:
- `src/data/PEDAGOGY.md` - Comprehensive design rationale document
</objective>

<execution_context>
@C:\Users\pagis\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\pagis\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/08-design-data-modeling/08-CONTEXT.md
@.planning/phases/08-design-data-modeling/08-RESEARCH.md

@src/data/skillTrail.js
@src/data/nodeTypes.js
@src/data/constants.js
@src/utils/xpSystem.js
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create PEDAGOGY.md with educational design rationale</name>
  <files>src/data/PEDAGOGY.md</files>
  <action>
Create `src/data/PEDAGOGY.md` documenting the educational design decisions for the trail system.

**Document Structure:**

```markdown
# Piano Trail Pedagogy

Design rationale for the piano learning trail system, targeting 8-year-old learners.

## Design Philosophy

Core educational psychology principles:
- One new element at a time (cognitive load theory)
- Varied activity types for engagement (Discovery -> Practice -> Mix-Up -> Speed -> Boss)
- Immediate feedback (mastery learning)
- Achievement-based motivation (XP, stars, badges)

## Target Learner Profile

- Age: 8 years old
- Attention span: 15-20 minutes per session
- Prior knowledge: Assumes no prior music reading ability
- Motivation: Game-like progression, visual rewards

## Note Introduction Order

### Treble Clef Path: C4 -> B4 -> C5

**Unit 1: First Position (C4, D4, E4)**
- C4 (Middle C): Universal starting point in piano pedagogy
- D4: One step up, reinforces staff line reading
- E4: Completes first three-note group

Rationale: Three-note grouping establishes pattern before expanding. Ascending order matches physical keyboard (left to right).

**Unit 2: Five Finger Position (F4, G4)**
- F4, G4: Complete the natural five-finger position
- Pedagogically standard "C position"

**Unit 3: Full Octave (A4, B4, C5)**
- Complete the octave progressively
- C5 is the "goal note" - returning to C reinforces octave concept

Sources: Middle C method (W.S.B. Mathews, 1892), Thompson's Modern Course (1936), Faber Piano Adventures

### Bass Clef Path: C4 -> C3

**Mirrors treble pedagogy exactly but descending:**
- Unit 1: C4, B3, A3 (start at Middle C, go down)
- Unit 2: G3, F3 (complete five-finger position)
- Unit 3: E3, D3, C3 (full octave down)

Rationale: Same cognitive load as treble (one note at a time). Descending matches bass clef reading direction.

### Rhythm Path: Quarter -> Half -> Whole -> Eighth -> Dotted

**Progression rationale:**
1. Quarter note = steady beat (foundational concept)
2. Half note = two beats (longer, simpler than subdivisions)
3. Whole note = four beats (patience, counting practice)
4. Eighth note = subdivision (only after beat mastery)
5. Dotted rhythms = advanced (1.5 beats requires understanding beat + half-beat)

**Critical constraint:** No eighth notes in Units 1-3 (learning phase). Eighth notes unlocked in Unit 4+ as reward for note mastery.

Sources: Kodaly method ("ta" and "ti-ti"), Orff pedagogy

## Node Type Purposes

Each node type serves a specific educational and psychological purpose:

### Discovery Nodes
- **Purpose:** Introduce 1-2 new notes
- **Duration:** 3-4 minutes
- **Rhythm:** Simple (quarters only) - focus on pitch recognition
- **Child thinks:** "Ooh, something NEW!"
- **Exercise:** Note recognition with new notes highlighted

### Practice Nodes
- **Purpose:** Drill recent notes with sight reading
- **Duration:** 3-5 minutes
- **Rhythm:** Medium (quarters + halves)
- **Child thinks:** "I'm getting better!"
- **Exercise:** Sight reading with recently learned notes

### Mix-Up Nodes
- **Purpose:** Memory game variation (sustained engagement)
- **Duration:** 4-5 minutes
- **Child thinks:** "This is FUN!"
- **Exercise:** Memory matching game with notes
- **Why it matters:** Variety prevents monotony, same learning through different lens

### Speed Round Nodes
- **Purpose:** Timed challenge (flow state, urgency)
- **Duration:** 2-3 minutes
- **Child thinks:** "Can I beat the clock?"
- **Exercise:** Timed note recognition
- **Why it matters:** Creates excitement, tests automaticity

### Review Nodes
- **Purpose:** Spaced repetition of previous units
- **Duration:** 3-4 minutes
- **Child thinks:** "I still remember!"
- **Exercise:** Mixed notes from previous units
- **Why it matters:** Combats forgetting curve

### Challenge Nodes
- **Purpose:** Increased difficulty preparation
- **Duration:** 4-5 minutes
- **Child thinks:** "Harder... but I can do it!"
- **Exercise:** Faster tempo or more notes
- **Why it matters:** Builds confidence for boss

### Mini-Boss Nodes
- **Purpose:** Unit checkpoint (sense of accomplishment)
- **Duration:** 5-6 minutes
- **XP reward:** 2x regular nodes
- **Child thinks:** "I've learned SO MUCH!"
- **Exercise:** All unit notes, medium challenge

### Boss Nodes
- **Purpose:** Major milestone (epic challenge moment)
- **Duration:** 6-8 minutes
- **XP reward:** 3x regular nodes
- **Child thinks:** "EPIC CHALLENGE!"
- **Exercise:** All path notes, time pressure

## XP Economy Design

### Principles
- Equal total XP per path (treble = bass = rhythm)
- Boss nodes award 2-3x more XP than regular nodes
- Completing all three paths should reach high levels (Level 12+)

### Level Thresholds
From xpSystem.js:
- Level 1: 0 XP (Beginner)
- Level 5: 700 XP (Rhythm Keeper)
- Level 10: 3200 XP (Symphony Star)
- Level 15: 9000 XP (Legend)

### XP Per Path Target
With 90 total nodes across three paths:
- ~30 nodes per path
- Average 50 XP per regular node
- Boss nodes 150-200 XP
- Target: ~2000-2500 XP per path (3 paths = 6000-7500 total)

## Node Variety Pattern

**Within each unit, vary node types:**
1. Discovery (new note)
2. Practice (drill)
3. Mix-Up (game)
4. Speed Round (challenge)
5. Mini-Boss (checkpoint)

**Why this order:** Discovery introduces concept, Practice reinforces, Mix-Up maintains engagement, Speed tests mastery, Mini-Boss celebrates completion.

---

*Document created: Phase 8 - Design & Data Modeling*
*Last updated: [auto-update on edit]*
```

**Important notes:**
- This is a living document - update when node structure changes
- Colocated with trail definitions for discoverability
- Serves as reference for Phases 9-10 (bass/rhythm implementation)
  </action>
  <verify>
1. File exists at `src/data/PEDAGOGY.md`
2. Contains all sections: Philosophy, Note Introduction Order, Node Type Purposes, XP Economy
3. Markdown renders correctly (no syntax errors)
4. References match actual code structure (NODE_TYPES, XP_LEVELS)
  </verify>
  <done>
PEDAGOGY.md exists with comprehensive design rationale. Developer can understand why notes appear in specific order. Claude agents can reference for bass/rhythm implementation.
  </done>
</task>

<task type="auto">
  <name>Task 2: Document legacy node IDs for reference</name>
  <files>src/data/PEDAGOGY.md</files>
  <action>
Append a "Legacy Reference" section to PEDAGOGY.md documenting the existing node IDs from LEGACY_NODES.

**Add at end of PEDAGOGY.md:**

```markdown
## Legacy Reference

### Legacy Node IDs (for historical reference)

These IDs existed in the original LEGACY_NODES array in skillTrail.js. Since all trail progress will be reset with v1.3, no runtime migration is needed. This section documents them for reference only.

**Treble Clef (Legacy):**
- `treble_c_d` - C & D notes
- `treble_c_e` - C, D, E notes
- `treble_five_finger` - C, D, E, F, G notes
- `treble_c_a` - C through A
- `treble_almost_there` - C through B
- `treble_full_octave` - Full octave C4-C5

**Bass Clef (Legacy):**
- `bass_c_b` - C & B notes
- `bass_c_a` - C, B, A notes
- `bass_c_g` - C through G (descending)
- `bass_c_f` - C through F
- `bass_almost_there` - Nearly complete range
- `bass_master` - Full bass range

**Rhythm (Legacy):**
- `rhythm_intro` - Rhythm basics
- `rhythm_quarter_notes` - Quarter notes
- `rhythm_half_notes` - Half notes
- `rhythm_eighth_notes` - Eighth notes
- `rhythm_mixed` - Mixed rhythms

**Boss (Legacy):**
- `boss_treble_warrior` - Treble boss
- `boss_bass_master` - Bass boss
- `boss_rhythm_master` - Rhythm boss

### New Node ID Convention

New nodes follow the pattern: `{path}_{unit}_{order}`
- Example: `treble_1_1` (Treble Unit 1, Node 1)
- Example: `bass_2_3` (Bass Unit 2, Node 3)
- Boss nodes: `boss_{path}_{unit}` (e.g., `boss_treble_3`)

This convention enables:
- Easy identification of path and unit
- Predictable ordering
- Clear hierarchy
```

**Purpose:** Documents legacy IDs for historical reference. Per CONTEXT.md, progress will be reset so no migration needed, but having this documented helps future developers understand the evolution.
  </action>
  <verify>
1. PEDAGOGY.md contains "Legacy Reference" section
2. All legacy node IDs from LEGACY_NODES are documented
3. New node ID convention is clearly explained
  </verify>
  <done>
Legacy node IDs documented for reference. New node ID convention explained. No runtime migration code needed (progress will be reset).
  </done>
</task>

</tasks>

<verification>
1. `src/data/PEDAGOGY.md` exists with all required sections
2. Note introduction order is clearly documented with rationale
3. Node type purposes match NODE_TYPES from nodeTypes.js
4. XP economy targets align with XP_LEVELS from xpSystem.js
5. Legacy node IDs are documented for reference
6. Markdown renders correctly (view in VS Code preview)
</verification>

<success_criteria>
- PEDAGOGY.md captures complete educational design rationale
- Developer can understand why notes are introduced in specific order
- Developer can understand purpose of each node type
- Claude agents have reference for planning Phases 9-10
- Legacy node IDs documented (no migration needed - progress resets)
</success_criteria>

<output>
After completion, create `.planning/phases/08-design-data-modeling/08-02-SUMMARY.md`
</output>
