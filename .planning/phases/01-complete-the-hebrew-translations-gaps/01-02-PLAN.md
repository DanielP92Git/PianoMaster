---
phase: 01-complete-the-hebrew-translations-gaps
plan: 02
type: execute
wave: 2
depends_on: ["01-01"]
files_modified:
  - src/locales/en/common.json
  - src/locales/he/common.json
  - src/locales/he/trail.json
autonomous: true

must_haves:
  truths:
    - "No dead/unused translation keys remain in EN or HE common.json"
    - "No deprecated trail unit names remain in HE trail.json"
    - "Hebrew plural forms (_two, _many) are preserved — these are legitimate Hebrew grammar"
    - "EN and HE key sets are synchronized (differences are only valid plural forms)"
  artifacts:
    - path: "src/locales/en/common.json"
      provides: "Clean EN common.json without duplicate pages.install.* or unused *Description keys"
    - path: "src/locales/he/common.json"
      provides: "Clean HE common.json without legacy keys from old code paths"
    - path: "src/locales/he/trail.json"
      provides: "Clean HE trail.json without 9 deprecated unit names"
  key_links:
    - from: "src/locales/en/common.json"
      to: "src/locales/he/common.json"
      via: "Key parity — every EN key has HE equivalent (plus valid Hebrew plural forms)"
      pattern: "pages\\.install"
---

<objective>
Remove dead translation keys from EN and HE JSON files and clean up deprecated trail entries

Analysis found: 10 duplicate `pages.install.*` keys in EN (code uses root `install.*`), 6 unused notification `*Description` keys in EN, 14 legacy/deprecated keys in HE common.json, and 9 deprecated unit names in HE trail.json. This plan removes all dead keys while preserving valid Hebrew plural forms (`_two`, `_many`).

Purpose: Reduce translation file bloat, eliminate confusion between duplicate namespaces, and ensure maintainability.
Output: Cleaned EN and HE translation files with only active keys.
</objective>

<execution_context>
@C:/Users/pagis/.claude/get-shit-done/workflows/execute-plan.md
@C:/Users/pagis/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/01-complete-the-hebrew-translations-gaps/01-RESEARCH.md
@src/locales/en/common.json
@src/locales/he/common.json
@src/locales/he/trail.json
</context>

<tasks>

<task type="auto">
  <name>Task 1: Remove dead keys from EN common.json</name>
  <files>src/locales/en/common.json</files>
  <action>
**Remove the entire `pages.install` object** from EN common.json. The code uses `t("install.*")` (root namespace), not `t("pages.install.*")`. All needed keys are (or will be after Plan 01) in the root `install` object. The `pages.install` block is a dead duplicate.

Specifically remove from `pages.install`:
- `pages.install.android.installDescription`
- `pages.install.android.installStep`
- `pages.install.chrome.installButton`
- `pages.install.chrome.installDescription`
- `pages.install.ios.installDescription`
- `pages.install.ios.installStep`
- `pages.install.safari.installDescription`
- `pages.install.safari.installStep1`
- `pages.install.safari.installStep2`
- `pages.install.safari.installStep3`

**Remove 6 unused notification description keys** from `pages.settings.notifications`. These keys are defined in EN but never referenced in any component (verified by grepping src/ for each key):
- `achievementsDescription`
- `assignmentsDescription`
- `messagesDescription`
- `notificationTypesDescription`
- `remindersDescription`
- `systemDescription`

**PRESERVE** these description keys that ARE used in AppSettings.jsx:
- `notificationsSettingsDescription` (line ~399)
- `enableAllNotificationsDescription` (line ~424)
- `quietHoursDescription` (line ~481)
- `dailyPracticeReminderDescription` (line ~517)

**Important:** Maintain valid JSON. After removing `pages.install`, ensure the `pages` object still has its other children intact.
  </action>
  <verify>
1. Validate JSON: `python -c "import json; json.load(open('src/locales/en/common.json', encoding='utf-8')); print('Valid JSON')"`
2. Verify pages.install removed: `python -c "import json; en=json.load(open('src/locales/en/common.json', encoding='utf-8')); assert 'install' not in en.get('pages',{}), 'pages.install still exists'; print('pages.install removed')"`
3. Verify unused descriptions removed: `python -c "import json; en=json.load(open('src/locales/en/common.json', encoding='utf-8')); n=en['pages']['settings']['notifications']; assert 'achievementsDescription' not in n; assert 'systemDescription' not in n; print('Dead description keys removed')"`
4. Verify used descriptions preserved: `python -c "import json; en=json.load(open('src/locales/en/common.json', encoding='utf-8')); n=en['pages']['settings']['notifications']; assert 'notificationsSettingsDescription' in n; assert 'quietHoursDescription' in n; assert 'dailyPracticeReminderDescription' in n; print('Used descriptions preserved')"`
  </verify>
  <done>EN common.json has no `pages.install` object. 6 unused notification *Description keys are removed. 4 actively-used description keys are preserved. JSON is valid.</done>
</task>

<task type="auto">
  <name>Task 2: Remove legacy keys from HE common.json and trail.json</name>
  <files>src/locales/he/common.json, src/locales/he/trail.json</files>
  <action>
**HE common.json — Remove 14 legacy keys:**

These keys exist in Hebrew but not in English, and are NOT valid plural forms. They are leftover from old code that has since been refactored:

1. Remove from `gameSettings.noteSelection`:
   - `"flats"` (not in EN, not referenced in code)
   - `"sharps"` (not in EN, not referenced in code)

2. Remove entire `gameSettings.steps` object:
   - `gameSettings.steps.labels.advanced`
   - `gameSettings.steps.labels.beginner`
   - `gameSettings.steps.labels.intermediate`

3. Remove from root `install`:
   - `install.ios.installStep` (EN uses installStep1/2/3 pattern, not installStep)
   - `install.safari.installDescription` — WAIT: This IS a valid key. Do NOT remove. It's used in code. Only remove `install.ios.installStep` since the code uses `installStep1/2/3`.

   Actually, re-checking: HE has `install.safari.installDescription`, `install.safari.installStep1/2/3`, and `install.ios.installStep`. The code uses `install.ios.installStep1/2/3` (not `installStep`), and `install.safari.*` is all used. So:
   - Remove ONLY `install.ios.installStep` (singular — code uses installStep1/2/3)
   - KEEP all `install.safari.*` keys (they are actively used)

4. Remove from `pages.achievements`:
   - `milestone` (not in EN, not referenced)

5. Remove from `pages.settings.notifications`:
   - `enableDailyPracticeReminder` (not in EN, not referenced — code uses `dailyPracticeReminder`)
   - `enableDailyPracticeReminderDescription` (not in EN, not referenced — code uses `dailyPracticeReminderDescription`)
   - `reminderTimeDescription` (not in EN, not referenced)

**DO NOT remove Hebrew plural forms** — these are valid:
- `dashboard.streak.dayLabel_two`, `dayLabel_many`
- `gameSettings.difficulty.levels.*.bars_two`
- `gameSettings.gridSize.pairs_two`
- `gameSettings.noteSelection.selectedCount_two`

**HE trail.json — Remove 9 deprecated unit names:**

Remove from `units.names`:
- `"Beat Builders"`
- `"Deep Note Explorers"`
- `"Fast Note Friends"`
- `"Five Finger Friends"`
- `"Low Note Heroes"`
- `"Magic Dots"`
- `"Quiet Moments"`
- `"Rainbow of Notes"`
- `"Speed Champions"`

These are legacy unit names from a prior trail system version (pre-v1.3 redesign). They are not in EN trail.json and not referenced anywhere in the codebase.

**Important:** Maintain valid JSON after all removals. Be careful with trailing commas.
  </action>
  <verify>
1. Validate JSON files:
```bash
python -c "
import json
json.load(open('src/locales/he/common.json', encoding='utf-8'))
json.load(open('src/locales/he/trail.json', encoding='utf-8'))
print('Both JSON files valid')
"
```

2. Verify legacy keys removed from HE common:
```bash
python -c "
import json
he = json.load(open('src/locales/he/common.json', encoding='utf-8'))
ns = he.get('gameSettings',{}).get('noteSelection',{})
assert 'flats' not in ns, 'flats still exists'
assert 'sharps' not in ns, 'sharps still exists'
assert 'steps' not in he.get('gameSettings',{}), 'steps still exists'
assert 'installStep' not in he.get('install',{}).get('ios',{}), 'install.ios.installStep still exists'
print('Legacy common keys removed')
"
```

3. Verify deprecated trail names removed:
```bash
python -c "
import json
he = json.load(open('src/locales/he/trail.json', encoding='utf-8'))
names = he.get('units',{}).get('names',{})
deprecated = ['Beat Builders','Deep Note Explorers','Fast Note Friends','Five Finger Friends','Low Note Heroes','Magic Dots','Quiet Moments','Rainbow of Notes','Speed Champions']
for name in deprecated:
    assert name not in names, f'{name} still exists'
print('Deprecated trail names removed')
"
```

4. Verify plural forms preserved:
```bash
python -c "
import json
he = json.load(open('src/locales/he/common.json', encoding='utf-8'))
assert 'dayLabel_two' in he['dashboard']['streak'], 'dayLabel_two missing'
assert 'dayLabel_many' in he['dashboard']['streak'], 'dayLabel_many missing'
print('Plural forms preserved')
"
```
  </verify>
  <done>HE common.json has no legacy keys (flats, sharps, steps, installStep, milestone, enableDailyPracticeReminder*, reminderTimeDescription removed). HE trail.json has no deprecated unit names. Hebrew plural forms (_two, _many) are preserved. Both files are valid JSON.</done>
</task>

</tasks>

<verification>
1. `npm run build` succeeds
2. Python comparison script shows EN and HE key sets differ only by valid Hebrew plural suffixes (_two, _many)
3. No dead keys remain in either language file
4. `npm run dev` + switch to Hebrew locale shows no console warnings for missing keys
</verification>

<success_criteria>
- `pages.install` object does not exist in EN common.json
- 6 unused notification *Description keys removed from EN
- 14 legacy keys removed from HE common.json (plural forms preserved)
- 9 deprecated unit names removed from HE trail.json
- All JSON files parse without errors
- `npm run build` passes
</success_criteria>

<output>
After completion, create `.planning/phases/01-complete-the-hebrew-translations-gaps/01-02-SUMMARY.md`
</output>
