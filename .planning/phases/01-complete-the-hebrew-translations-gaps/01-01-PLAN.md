---
phase: 01-complete-the-hebrew-translations-gaps
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/locales/en/common.json
  - src/locales/he/common.json
autonomous: true

must_haves:
  truths:
    - "All install instructions display correctly in Hebrew (iOS Safari steps, Android Chrome steps)"
    - "Notification settings descriptions display correctly in Hebrew"
    - "No console warnings for missing i18next translation keys in Hebrew locale"
  artifacts:
    - path: "src/locales/en/common.json"
      provides: "Complete root install namespace with all keys referenced by AppSettings.jsx"
      contains: "install.safari.installStep1"
    - path: "src/locales/he/common.json"
      provides: "Hebrew translation for enableAllNotificationsDescription"
      contains: "enableAllNotificationsDescription"
  key_links:
    - from: "src/pages/AppSettings.jsx"
      to: "src/locales/en/common.json"
      via: "t() function calls referencing install.* and pages.settings.notifications.* keys"
      pattern: "t\\(\"install\\."
---

<objective>
Fix missing and broken translation keys in EN and HE common.json

The EN root `install.*` namespace is incomplete — the code references `install.ios.installStep1/2/3` and `install.safari.*` but these only exist under `pages.install.*` (a duplicate namespace). Additionally, Hebrew is missing 1 actively-used notification description key. This plan fixes EN's broken install keys and adds the missing Hebrew translation.

Purpose: Eliminate runtime translation fallbacks and ensure install instructions render correctly in both languages.
Output: Updated en/common.json and he/common.json with correct keys.
</objective>

<execution_context>
@C:/Users/pagis/.claude/get-shit-done/workflows/execute-plan.md
@C:/Users/pagis/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/01-complete-the-hebrew-translations-gaps/01-RESEARCH.md
@src/pages/AppSettings.jsx
@src/locales/en/common.json
@src/locales/he/common.json
</context>

<tasks>

<task type="auto">
  <name>Task 1: Fix EN root install namespace and add missing Hebrew notification key</name>
  <files>src/locales/en/common.json, src/locales/he/common.json</files>
  <action>
**EN common.json — Fix root `install` namespace:**

The code in AppSettings.jsx uses `t("install.ios.installStep1")`, `t("install.ios.installStep2")`, `t("install.ios.installStep3")`, and `t("install.safari.installDescription")` but these keys only exist under `pages.install.*`. Add the missing keys to the root `install` namespace:

1. Add to `install.ios`:
   - `"installStep1": "Tap the Share button"` (referenced at line ~185)
   - `"installStep2": "Choose \"Add to Home Screen\""` (referenced at line ~191)
   - `"installStep3": "Tap \"Add\" to confirm"` (referenced at line ~197)

2. Add `install.safari` object:
   - `"installDescription": "Safari's Share button sits at the bottom toolbar. Once installed, reopen PianoMaster from your home screen for a full-screen experience."`
   - `"installStep1": "Tap the Share button"`
   - `"installStep2": "Choose \"Add to Home Screen\""`
   - `"installStep3": "Tap \"Add\" to confirm"`

**HE common.json — Add missing notification description:**

Add to `pages.settings.notifications`:
- `"enableAllNotificationsDescription": "הפעלת כל ההתראות באפליקציה"` (translates to "Enable all notifications in the app")

This is the only actively-used key missing from Hebrew (referenced at AppSettings.jsx line ~424).

**Important:** Do NOT modify any existing keys. Only add new keys. Maintain the existing JSON structure and formatting.
  </action>
  <verify>
Run Python verification script to confirm:
1. All keys referenced by `t("install.*")` in AppSettings.jsx exist in EN root install namespace
2. `enableAllNotificationsDescription` exists in HE notifications
3. JSON files are valid (no syntax errors)

```bash
python -c "
import json
en = json.load(open('src/locales/en/common.json', encoding='utf-8'))
he = json.load(open('src/locales/he/common.json', encoding='utf-8'))

# Verify EN root install keys
assert 'installStep1' in en['install']['ios'], 'Missing install.ios.installStep1'
assert 'installStep2' in en['install']['ios'], 'Missing install.ios.installStep2'
assert 'installStep3' in en['install']['ios'], 'Missing install.ios.installStep3'
assert 'safari' in en['install'], 'Missing install.safari'
assert 'installDescription' in en['install']['safari'], 'Missing install.safari.installDescription'

# Verify HE notification key
assert 'enableAllNotificationsDescription' in he['pages']['settings']['notifications'], 'Missing HE enableAllNotificationsDescription'

print('All checks passed')
"
```
  </verify>
  <done>EN root install namespace contains all keys referenced by AppSettings.jsx. Hebrew has the enableAllNotificationsDescription translation. Both JSON files parse without errors.</done>
</task>

</tasks>

<verification>
1. `npm run build` succeeds (no JSON parse errors)
2. Python key comparison script shows 0 actively-used missing keys
3. Grep for all `t("install.` references in src/ confirms every key exists in both EN and HE
</verification>

<success_criteria>
- All `t("install.*")` calls in AppSettings.jsx resolve to real keys in EN common.json root install namespace
- Hebrew `enableAllNotificationsDescription` key exists and has a Hebrew value
- Both JSON files are valid and parseable
</success_criteria>

<output>
After completion, create `.planning/phases/01-complete-the-hebrew-translations-gaps/01-01-SUMMARY.md`
</output>
